<?php

/**
 * @var \FlightLog\Http\Web\Form\PilotForm $pilotForm
 * @var User $pilot
 */

global $pilotForm, $langs, $pilot;

$renderer = new \flightlog\form\SimpleFormRenderer();

?>

<div class="errors error-messages">
    <?php
    foreach ($pilotForm->getErrorMessages() as $errorMessage) {
        print sprintf('<div class="error"><span>%s</span></div>', $errorMessage);
    }
    ?>
</div>

<h1><?php echo $pilot->firstname . ' ' . $pilot->lastname ; ?></h1>

<form class="pilot-form flight-form js-form" name='<?php echo $pilotForm->getName(); ?>' method="<?php echo $pilotForm->getMethod(); ?>">
    <input type="hidden" name="action" value="handle"/>

    <?php echo $renderer->render($pilotForm->getElement('pilot_id')); ?>
    <?php echo $renderer->render($pilotForm->getElement('token')); ?>

    <fieldset>
        <legend>Information de licence</legend>

        <!-- pilot_licence_number -->
        <div class="">
            <label for="pilot_licence_number">N° de licence</label>
            <?php echo $renderer->render($pilotForm->getElement('pilot_licence_number'), ['attr' => ['id' => 'pilot_licence_number']]); ?>
        </div>
    
        <!-- last_training_flight_date -->
        <div class="">
            <label for="last_training_flight_date">Date du dernier training flight / proficiency check (LPC) </label>
            <?php echo $renderer->render($pilotForm->getElement('last_training_flight_date'), ['attr' => ['id' => 'last_training_flight_date']]); ?>
        </div>
    
        <!-- Entrainement -->
        <div class="">
            <label for="is_pilot_training">Entrainement</label>
            <?php echo $renderer->render($pilotForm->getElement('is_pilot_training'), ['attr' => ['id' => 'is_pilot_training']]); ?>
        </div>

        <!-- is_pilot_class_a -->
        <div class="">
            <label for="is_pilot_class_a">Class A</label>
            <?php echo $renderer->render($pilotForm->getElement('is_pilot_class_a'), ['attr' => ['id' => 'is_pilot_class_a']]); ?>
        </div>
    
        <!-- is_pilot_class_b -->
        <div class="">
            <label for="is_pilot_class_b">Class B</label>
            <?php echo $renderer->render($pilotForm->getElement('is_pilot_class_b'), ['attr' => ['id' => 'is_pilot_class_b']]); ?>
        </div>
    
        <!-- is_pilot_class_c -->
        <div class="">
            <label for="is_pilot_class_c">Class C</label>
            <?php echo $renderer->render($pilotForm->getElement('is_pilot_class_c'), ['attr' => ['id' => 'is_pilot_class_c']]); ?>
        </div>
    
        <!-- is_pilot_class_d -->
        <div class="">
            <label for="is_pilot_class_d">Class D</label>
            <?php echo $renderer->render($pilotForm->getElement('is_pilot_class_d'), ['attr' => ['id' => 'is_pilot_class_d']]); ?>
        </div>

        <!-- is_pilot_gaz -->
        <div class="">
            <label for="is_pilot_gaz">Ballon à gaz ?</label>
            <?php echo $renderer->render($pilotForm->getElement('is_pilot_gaz'), ['attr' => ['id' => 'is_pilot_gaz']]); ?>
        </div>
    </fieldset>

    <fieldset>
        <legend>Cetificat médical</legend>

        <!-- end medical -->
        <div class="">
            <label for="end_medical_date">Date d'échéance ( data de validité)</label>
            <?php echo $renderer->render($pilotForm->getElement('end_medical_date'), ['attr' => ['id' => 'end_medical_date']]); ?>
        </div>
    </fieldset>

    <fieldset>
        <legend>Qualifications</legend>

        <!-- has_qualif_pro -->
        <div class="">
            <label for="has_qualif_pro">Qualification commerciale</label>
            <?php echo $renderer->render($pilotForm->getElement('has_qualif_pro'), ['attr' => ['id' => 'has_qualif_pro']]); ?>
        </div>

        <!-- last_opc_date -->
        <div class="">
            <label for="last_opc_date">Date du dernier OPC avec examinateur ou refresh en DTO</label>
            <?php echo $renderer->render($pilotForm->getElement('last_opc_date'), ['attr' => ['id' => 'last_opc_date']]); ?>
        </div>

        <!-- has_qualif_static -->
        <div class="">
            <label for="has_qualif_static">Qualification vol captif</label>
            <?php echo $renderer->render($pilotForm->getElement('has_qualif_static'), ['attr' => ['id' => 'has_qualif_static']]); ?>
        </div>

        <!-- has_qualif_night -->
        <div class="">
            <label for="has_qualif_night">Qualification vol de nuit</label>
            <?php echo $renderer->render($pilotForm->getElement('has_qualif_night'), ['attr' => ['id' => 'has_qualif_night']]); ?>
        </div>

    </fieldset>

    <fieldset>
        <legend>Qualifications pour la formation</legend>

        <!-- has_qualif_instructor -->
        <div class="">
            <label for="has_qualif_instructor">Qualification d'instructeur</label>
            <?php echo $renderer->render($pilotForm->getElement('has_qualif_instructor'), ['attr' => ['id' => 'has_qualif_instructor']]); ?>
        </div>

        <!-- last_instructor_refresh_date -->
        <div class="">
            <label for="last_instructor_refresh_date">Date du dernier refresh d'instructeur</label>
            <?php echo $renderer->render($pilotForm->getElement('last_instructor_refresh_date'), ['attr' => ['id' => 'last_instructor_refresh_date']]); ?>
        </div>

        <!-- Last training flight instructor -->
        <div class="">
            <label for="last_instructor_training_flight">Date du dernier training flight</label>
            <?php echo $renderer->render($pilotForm->getElement('last_instructor_training_flight'), ['attr' => ['id' => 'last_instructor_training_flight']]); ?>
        </div>

        <!-- has_qualif_examinator -->
        <div class="">
            <label for="has_qualif_examinator">Qualification d'examinateur</label>
            <?php echo $renderer->render($pilotForm->getElement('has_qualif_examinator'), ['attr' => ['id' => 'has_qualif_examinator']]); ?>
        </div>

        <!-- last_examinator_refresh_date -->
        <div class="">
            <label for="last_examinator_refresh_date">Date du dernier refresh d'examinateur</label>
            <?php echo $renderer->render($pilotForm->getElement('last_examinator_refresh_date'), ['attr' => ['id' => 'last_examinator_refresh_date']]); ?>
        </div>
    </fieldset>

    <fieldset>
        <legend>Radio</legend>

        <!-- has_radio -->
        <div class="">
            <label for="has_radio">Detendeur d'une licence radio ?</label>
            <?php echo $renderer->render($pilotForm->getElement('has_radio'), ['attr' => ['id' => 'has_radio']]); ?>
        </div>

        <!-- radio_licence_number -->
        <div class="">
            <label for="radio_licence_number">Numéro de licence radio</label>
            <?php echo $renderer->render($pilotForm->getElement('radio_licence_number'), ['attr' => ['id' => 'radio_licence_number']]); ?>
        </div>

        <!-- radio_licence_date -->
        <div class="">
            <label for="radio_licence_date">Date de délivrance</label>
            <?php echo $renderer->render($pilotForm->getElement('radio_licence_date'), ['attr' => ['id' => 'radio_licence_date']]); ?>
        </div>
    </fieldset>

    <fieldset>
        <legend>Formations feu et premier secours</legend>

        <!-- has_training_first_help -->
        <div class="">
            <label for="has_training_first_help">Formé aux premiers secours</label>
            <?php echo $renderer->render($pilotForm->getElement('has_training_first_help'), ['attr' => ['id' => 'has_training_first_help']]); ?>
        </div>
    
        <!-- last_training_first_help_date -->
        <div class="">
            <label for="last_training_first_help_date">Date de la dernière formation aux premiers secours</label>
            <?php echo $renderer->render($pilotForm->getElement('last_training_first_help_date'), ['attr' => ['id' => 'last_training_first_help_date']]); ?>
        </div>
    
        <!-- has_training_fire -->
        <div class="">
            <label for="has_training_fire">Formé aux incendies</label>
            <?php echo $renderer->render($pilotForm->getElement('has_training_fire'), ['attr' => ['id' => 'has_training_fire']]); ?>
        </div>
    
        <!-- last_training_fire_date -->
        <div class="">
            <label for="last_training_fire_date">Date de la dernière formation feu</label>
            <?php echo $renderer->render($pilotForm->getElement('last_training_fire_date'), ['attr' => ['id' => 'last_training_fire_date']]); ?>
        </div>

    </fieldset>


    <button class="button" type="submit">Modifier</button>
</form></div>


